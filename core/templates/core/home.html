{% extends 'core/base.html' %}

{% block title %}Home{% endblock %}
{% load static %}

{% block content %}

<div class="container mt-4" style="position: relative;">
    <!-- Left Arrow -->
    <button class="scroll-btn left" onclick="scrollCategories(-200)">
        &#10094;
    </button>

    <!-- Categories Row -->
    <div class="categories-row-scroll" id="categoriesRow">

        <!-- Mobile -->
        <a href="{% url 'mobile_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/mobile.jpg' %}" alt="Mobile">
            </div>
            <p class="category-title">Mobile</p>
        </a>

        <!-- Computer Hardware -->
        <a href="{% url 'computer_hardware_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/computer-hardware.jpg' %}" alt="Computer Hardware">
            </div>
            <p class="category-title">Computer Hardware</p>
        </a>

        <!-- TV -->
        <a href="{% url 'tv_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/tv.jpg' %}" alt="LED / OLED TV">
            </div>
            <p class="category-title">LED / OLED TV</p>
        </a>

        <!-- Soundbar -->
        <a href="{% url 'soundbar_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/soundbar.jpg' %}" alt="Soundbar">
            </div>
            <p class="category-title">Soundbar</p>
        </a>

        <!-- Speaker -->
        <a href="{% url 'speaker_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/speaker.png' %}" alt="Speaker">
            </div>
            <p class="category-title">Speaker</p>
        </a>

        <!-- Laptop -->
        <a href="{% url 'laptop_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/laptop.png' %}" alt="Laptop">
            </div>
            <p class="category-title">Laptop</p>
        </a>

        <!-- Projector -->
        <a href="{% url 'projector_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/projector.png' %}" alt="Projector">
            </div>
            <p class="category-title">Projector</p>
        </a>

        <!-- Headphones -->
        <a href="{% url 'headphones_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/headphones.png' %}" alt="Headphones">
            </div>
            <p class="category-title">Headphones</p>
        </a>

        <!-- Camera -->
        <a href="{% url 'camera_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/camera.png' %}" alt="Camera">
            </div>
            <p class="category-title">Camera</p>
        </a>

        <!-- Smartwatch -->
        <a href="{% url 'smartwatch_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/smartwatch.png' %}" alt="Smartwatch">
            </div>
            <p class="category-title">Smartwatch</p>
        </a>

        <!-- Gaming -->
        <a href="{% url 'gaming_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/gaming.png' %}" alt="Gaming">
            </div>
            <p class="category-title">Gaming</p>
        </a>

        <!-- Wi-Fi Router -->
        <a href="{% url 'wifi_router_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/wi-fi Router.png' %}" alt="Wi-Fi Router">
            </div>
            <p class="category-title">Wi-Fi Router</p>
        </a>

        <!-- Smart Home Devices -->
        <a href="{% url 'smart_home_devices_products' %}" class="category-card">
            <div class="category-img">
                <img src="{% static 'images/categories/Smart Home Devices.jpg' %}" alt="Smart Home Devices">
            </div>
            <p class="category-title">Smart Home Devices</p>
        </a>


    </div>

    <!-- Right Arrow -->
    <button class="scroll-btn right" onclick="scrollCategories(200)">
        &#10095;
    </button>
</div>



<style>
.categories-row-scroll {
    display: flex;
    gap: 20px;
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 10px 0;
}

/* Hide scrollbar */
.categories-row-scroll::-webkit-scrollbar {
    display: none;
}
.categories-row-scroll {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.category-card {
    flex: 0 0 auto;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    width: 130px;
    height: 150px;        /* fixed height set kiya */
    border-radius: 15px;
    padding: 8px;         /* padding thoda kam */
    text-align: center;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center; /* content vertically center */
}

.category-img {
    width: 50px;
    height: 60px;
    margin: 0 auto 10px;
    border-radius: 50%;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.category-img img {
    width: 70%;
    height: 70%;
    object-fit: contain;
}

.category-title {
    font-weight: 600;
    font-size: 0.85rem;
    color: #333;
}

.category-card:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 12px 25px rgba(0,0,0,0.2);
    background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
}

/* Arrow buttons */
.scroll-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    background-color: rgba(0,0,0,0.5);
    border: none;
    color: #fff;
    font-size: 1.8rem;
    padding: 5px 12px;
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.3s;
}

.scroll-btn:hover {
    background-color: rgba(0,0,0,0.7);
}

.scroll-btn.left {
    left: 0;
}

.scroll-btn.right {
    right: 0;
}

@media (max-width: 768px) {
    .category-card {
        width: 110px;
        padding: 12px;
    }
    .category-img {
        width: 80px;
        height: 80px;
    }
    .category-img img {
        width: 70%;
        height: 70%;
    }
    .category-title {
        font-size: 0.85rem;
    }
    .scroll-btn {
        font-size: 1.5rem;
        padding: 5px 10px;
    }
}
</style>


<!-- Banner Slider -->
<div class="banner-slider-container mt-5">
    {% for banner in banners %}
    <div class="banner-slide fade">
        <img src="{{ banner.image.url }}" alt="{{ banner.title }}" class="banner-img">
        <div class="banner-content">
            {% if banner.title %}
            <h2>{{ banner.title }}</h2>
            {% endif %}
            <p></p>
        </div>
    </div>
    {% endfor %}
    <div class="banner-dots" id="bannerDots"></div>
</div>

<style>
/* ‚úÖ Main Container */
.banner-slider-container {
    width: 100%;
    position: relative;
    overflow: hidden;
}

/* ‚úÖ Full width, center-focused, responsive image */
.banner-slider-container img.banner-img {
    width: 100%;
    height: 60vh; /* Banner height responsive across screens */
    object-fit: cover; /* covers area without black borders */
    object-position: center center; /* centers focus */
    display: block;
    border: none;
}

/* ‚úÖ Banner content text */
.banner-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: #fff;
    text-shadow: 0 2px 6px rgba(0,0,0,0.5);
}
.banner-content h2 {
    font-size: 2.2rem;
    font-weight: 600;
}

/* ‚úÖ Dots Navigation */
.banner-dots {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
}
.banner-dots span {
    width: 10px;
    height: 10px;
    background: #ccc;
    border-radius: 50%;
    cursor: pointer;
}
.banner-dots span.active {
    background: #333;
}

/* ‚úÖ Animation */
.fade {
    animation: fade 1s ease-in-out;
}
@keyframes fade {
    from { opacity: 0.5; }
    to { opacity: 1; }
}

/* ‚úÖ Responsive */
@media (max-width: 992px) {
    .banner-slider-container img.banner-img {
        height: 50vh;
    }
    .banner-content h2 {
        font-size: 1.8rem;
    }
}

@media (max-width: 600px) {
    .banner-slider-container img.banner-img {
        height: 35vh;
    }
    .banner-content h2 {
        font-size: 1.3rem;
    }
}
</style>

<script>
let slideIndex = 0;
showSlides();

function showSlides() {
    let slides = document.getElementsByClassName("banner-slide");
    let dotsContainer = document.getElementById("bannerDots");
    dotsContainer.innerHTML = "";
 
    for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
        let dot = document.createElement("span");
        dot.onclick = function() { currentSlide(i); };
        dotsContainer.appendChild(dot);
    }

    slideIndex++;
    if (slideIndex > slides.length) { slideIndex = 1 }

    slides[slideIndex - 1].style.display = "block";
    dotsContainer.children[slideIndex - 1].classList.add("active");

    setTimeout(showSlides, 4000);
}

function currentSlide(n) {
    slideIndex = n;
    showSlides();
}
</script>


<!-- Styles -->
<style>

.categories-row-scroll { display:flex; gap:20px; overflow-x:auto; scroll-behavior:smooth; padding:10px 0; }
.categories-row-scroll::-webkit-scrollbar { display:none; }
.categories-row-scroll { -ms-overflow-style:none; scrollbar-width:none; }
.category-card { flex:0 0 auto; width:140px; border-radius:15px; padding:15px; text-align:center; cursor:pointer; background:linear-gradient(135deg,#f8f9fa,#e9ecef); box-shadow:0 6px 18px rgba(0,0,0,0.1); transition: all 0.3s; }
.category-card:hover { transform:translateY(-8px) scale(1.05); box-shadow:0 12px 25px rgba(0,0,0,0.2); background:linear-gradient(135deg,#e0f7fa,#b2ebf2); }
.category-img { width:100px; height:100px; margin:0 auto 10px; border-radius:50%; overflow:hidden; display:flex; align-items:center; justify-content:center; background:#fff; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
.category-img img { width:70%; height:70%; object-fit:contain; }
.category-title { font-weight:600; font-size:0.95rem; color:#333; }
.scroll-btn { position:absolute; top:50%; transform:translateY(-50%); z-index:10; background-color:rgba(0,0,0,0.5); border:none; color:#fff; font-size:1.8rem; padding:5px 12px; border-radius:50%; cursor:pointer; transition: background 0.3s; }
.scroll-btn:hover { background-color:rgba(0,0,0,0.7); }
.scroll-btn.left { left:0; }
.scroll-btn.right { right:0; }

/* Banner Slider */
.banner-slider-container { position:relative; max-width:100%; margin:auto; overflow:hidden; border-radius:15px; }
.banner-slide { display:none; position:relative; }
.banner-slide img { width:100%; height:450px; object-fit:cover; border-radius:15px; } /* height changed from 350px to 450px */
.banner-content { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:white; text-align:center; text-shadow:0 2px 8px rgba(0,0,0,0.7); }
.banner-content h2 { font-size:2rem; margin-bottom:10px; }
.banner-content p { font-size:1.2rem; }
.banner-dots { text-align:center; position:relative; top:-30px; }
.banner-dots span { height:12px; width:12px; margin:0 5px; display:inline-block; background-color:#bbb; border-radius:50%; cursor:pointer; transition: background 0.3s; }
.banner-dots span.active { background-color:#717171; }

@media(max-width:768px){
    .category-card{width:110px;padding:12px;}
    .category-img{width:80px;height:80px;}
    .banner-slide img{height:250px;} /* mobile height increased from 200px to 250px */
    .banner-content h2{font-size:1.5rem;}
    .banner-content p{font-size:1rem;}
}

</style>

<!-- Latest Launches Section -->
<div class="container mt-5 py-5 px-4" style="background-color: #fff8e1; border-radius: 20px;">
    <h2 class="text-center mb-5" style="font-weight: 800; font-size: 2.5rem; color: #444; font-style: italic;">
        Latest Launches
    </h2>

    <!-- Row with exactly 5 cards per row -->
    <div class="latest-launches-row">
        {% for product in latest_products %}
        <div class="card flex-shrink-0 position-relative d-flex flex-column card-offset">

            <!-- Image Container -->
            <a href="{% url 'details_product' product.id %}" style="text-decoration:none; color:inherit;">
                <div class="card-image">
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% if product.discount %}
                    <div class="discount-badge">
                        {{ product.discount }}% OFF
                    </div>
                    {% endif %}
                </div>
            </a>

            <!-- Card Body -->
            <div class="card-body p-3 flex-grow-1 d-flex flex-column">
                <p class="card-title fw-bold mb-2 product-name">{{ product.name }}</p>

                {% if product.discount %}
                <div class="price-badge mb-2">
                    <span class="old-price">‚Çπ{{ product.price|floatformat:2 }}</span>
                    <span class="new-price ms-2">‚Çπ{{ product.final_price|floatformat:2 }}</span>
                </div>
                {% else %}
                <div class="price-badge mb-2">
                    ‚Çπ{{ product.price|floatformat:2 }}
                </div>
                {% endif %}

                <!-- Spacer to push icons down -->
                <div class="mt-auto card-actions">
                    <a href="{% url 'add_to_wishlist' product.id %}" class="action-btn wishlist" title="Add to Wishlist">‚ù§Ô∏è</a>
                    <a href="{% url 'add_to_cart' product.id %}" class="action-btn cart" title="Add to Cart">üõí</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center w-100 text-dark">No products added yet.</p>
        {% endfor %}
    </div>
</div>

<!-- CSS -->
<style>
.latest-launches-row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 20px;
    padding: 10px;
}

/* Card Styling */
.latest-launches-row > .card {
    border-radius: 20px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s, box-shadow 0.3s;
    cursor: pointer;
    display: flex;
    flex-direction: column;
}

/* Card offset: move content a bit to right */
.card-offset {
    padding-left: 10px; /* üëà content starts 10px right */
}

/* Card Image */
.card-image {
    height: 280px;
    overflow: hidden;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    position: relative;
    margin-left: 10px; /* shift image to right */
}
.card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
}
.card:hover img {
    transform: scale(1.12);
}

/* Discount Badge */
.discount-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: #2196f3;
    color: #fff;
    font-weight: 700;
    padding: 5px 8px;
    border-radius: 8px;
    font-size: 0.9rem;
}

/* Hover */
.card:hover {
    transform: translateY(-8px) scale(1.03);
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
}

/* Product Name */
.product-name {
    font-size: 1.1rem;
    color: #222;
}

/* Price */
.price-badge {
    font-weight: 600;
    color: #333;
    display: inline-block;
    padding: 5px 8px;
    border-radius: 12px;
    background-color: rgba(255,255,255,0.9);
}
.old-price {
    text-decoration: line-through;
    color: #888;
}
.new-price {
    color: #28a745;
    font-weight: 700;
}

/* Wishlist & Cart Icons fixed at bottom */
.card-actions {
    display: flex;
    align-items: center;
    margin-top: auto; /* pushes icons to bottom */
}
.card-actions a {
    font-size: 1.5rem;
    text-decoration: none;
    transition: transform 0.2s ease, color 0.2s ease;
}
.card-actions a:hover {
    transform: scale(1.2);
}
.card-actions .wishlist {
    color: #e91e63;
}
.card-actions .cart {
    color: #007bff;
    margin-left: auto;
}

/* Responsive Adjustments */
@media (max-width: 1200px) {
    .latest-launches-row { grid-template-columns: repeat(4, 1fr); }
}
@media (max-width: 992px) {
    .latest-launches-row { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 768px) {
    .latest-launches-row { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 576px) {
    .latest-launches-row { grid-template-columns: 1fr; }
}
</style>






<!-- Optional Hover Effect -->
<style>
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 25px rgba(0,0,0,0.25);
}
.card img:hover {
    transform: scale(1.05);
}
</style>






<script>
    const latestRow = document.getElementById('latestRow');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    const scrollAmount = 280; // card width + gap

    nextBtn.addEventListener('click', () => {
        latestRow.scrollBy({ left: scrollAmount, behavior: 'smooth' });
    });

    prevBtn.addEventListener('click', () => {
        latestRow.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
    });
</script>








<!-- Optional Hover Effect CSS -->
<style>
.latest-card:hover img {
    transform: scale(1.05);
}
.latest-card:hover {
    box-shadow: 0 12px 25px rgba(0,0,0,0.3);
}
</style>

<!-- Optional Hover Effect CSS -->
<style>
.latest-card:hover img {
    transform: scale(1.05);
}
.latest-card:hover {
    box-shadow: 0 12px 25px rgba(0,0,0,0.4);
}
</style>


<!-- Notices Section -->
<div class="container-fluid py-5" style="background-color:#f8f9fa;"> 
    <div class="container">
        <h2 class="text-center mb-4" style="font-weight:700; font-size:2rem; color:#333; font-style: italic;">
            Best Offers
        </h2>

        <div class="row g-4">
            {% for notice in notices %}
            <div class="col-md-4">
                <div class="card shadow-sm h-100 border-0" style="border-radius:15px; overflow:hidden;">
                 {% if notice.image %}
<div class="notice-img-box">
    <img src="{{ notice.image.url }}" class="notice-img">
</div>
{% endif %}





                    
                    <div class="card-body text-center">
                        <h5 class="card-title" style="font-weight:600; color:#2c3e50;">{{ notice.title }}</h5>
                        <p class="card-text" style="color:#555;">{{ notice.message|truncatewords:20 }}</p>
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-center text-muted">No notices available.</p>
            {% endfor %}
        </div>
    </div>
</div>
</div>

<!-- Optional CSS Hover Effect -->
<style>
.card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}


.notice-img-box {
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 320px;            
    background: #fff;
}

.notice-img {
    width: 90%;              
    max-width: none;            
    height: auto;
    object-fit: contain;
    border-radius: 15px;
    transition: transform 0.3s ease;
}

.notice-img:hover {
    transform: scale(1.05);     
}

</style>




<!-- Best Deals Section -->
<div class="container-fluid py-5" style="background-color:#e0f7fa;">
    <div class="container">
        <h2 class="text-center mb-4" style="font-weight:700; font-size:2rem; color:#333; font-style: italic;">Best Deals</h2>

        <div class="best-deals-row">
            {% for product in best_deals %}
            <div class="best-deal-card">
                <a href="{% url 'details_product' product.id %}" class="card-link">
                    <div class="card-inner">
                        <!-- Product Image -->
                        <div class="image-box">
                            <img src="{{ product.image.url }}" alt="{{ product.name }}">
                        </div>

                        <!-- Divider -->
                        <hr class="divider">

                        <!-- Product Info -->
                        <div class="info-box">
                            <p class="title">{{ product.name }}</p>

                            {% if product.discount %}
                                <p class="price">
                                    <span class="old">‚Çπ{{ product.price|floatformat:2 }}</span>
                                    <span class="new">‚Çπ{{ product.final_price|floatformat:2 }}</span>
                                </p>
                                <p class="discount">{{ product.discount }}% OFF</p>
                            {% else %}
                                <p class="price-only">‚Çπ{{ product.price|floatformat:2 }}</p>
                            {% endif %}
                        </div>
                    </div>
                </a>

                <!-- ‚úÖ Wishlist & Cart Icons -->
                <div class="card-actions">
                    <a href="{% url 'add_to_wishlist' product.id %}" class="action-btn wishlist" title="Add to Wishlist">
                        ‚ù§Ô∏è
                    </a>
                    <a href="{% url 'add_to_cart' product.id %}" class="action-btn cart" title="Add to Cart">
                        üõí
                    </a>
                </div>
            </div>
            {% empty %}
            <p class="text-center text-dark">No products added yet.</p>
            {% endfor %}
        </div>
    </div>
</div>

<style>
/* ‚úÖ Layout Container */
.best-deals-row {
    display: flex;
    flex-wrap: wrap;
    gap: 25px;
    justify-content: center;
    padding: 0 110px;
    box-sizing: border-box;
}

/* ‚úÖ Card Styling */
.best-deal-card {
    flex: 0 1 calc(50% - 25px);
    border-radius: 15px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    background: #f8f9fa;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    overflow: hidden;
    position: relative;
}

.best-deal-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

/* ‚úÖ Clickable Card Link */
.card-link {
    display: block;
    text-decoration: none;
    color: inherit;
}

/* ‚úÖ Image Box */
.image-box {
    width: 100%;
    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    background: #ddd;
}

.image-box img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: transform 0.3s ease;
}

.card-link:hover img {
    transform: scale(1.05);
}

/* ‚úÖ Divider */
.divider {
    border-top: 2px solid #333;
    width: 90%;
    margin: 10px auto;
}

/* ‚úÖ Info Box */
.info-box {
    text-align: center;
    padding: 15px;
}

.title {
    font-weight: 700;
    font-size: 1.3rem;
    margin-bottom: 8px;
    color: #333;
}

.price {
    margin-bottom: 4px;
}

.old {
    text-decoration: line-through;
    color: #888;
    font-size: 1rem;
}

.new {
    color: #28a745;
    font-weight: 700;
    font-size: 1.2rem;
    margin-left: 10px;
}

.discount {
    color: #d32f2f;
    font-weight: 600;
}

.price-only {
    font-size: 1.2rem;
    color: #333;
    font-weight: 500;
}

/* ‚úÖ Wishlist & Cart Icons */
.card-actions {
    display: flex;
    justify-content: center;
    gap: 20px;
    padding: 10px 0 20px;
}

.action-btn {
    font-size: 1.6rem;
    text-decoration: none;
    transition: transform 0.2s ease, color 0.2s ease;
}

.action-btn.wishlist {
    color: #e63946;
}

.action-btn.cart {
    color: #007bff;
}

.action-btn:hover {
    transform: scale(1.2);
}

/* ‚úÖ Responsive Design */
@media (max-width: 992px) {
    .best-deals-row {
        padding: 0 60px;
    }
    .best-deal-card {
        flex: 0 1 calc(50% - 20px);
    }
}

@media (max-width: 768px) {
    .best-deal-card {
        flex: 0 1 100%;
    }
    .best-deals-row {
        padding: 0 20px;
    }
}
</style>




<!-- ======= Similar Products Section ======= -->
<section id="similar-products">
    <div class="container">
        <h2 style="text-align: start; font-style: italic;">Similar Products</h2>

        {% if similar_products %}
        <div class="product-grid">
            {% for product in similar_products %}
            <div class="product-card">
                <a href="{% url 'details_product' product.id %}" class="product-link">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% else %}
                        <img src="{% static 'images/no-image.png' %}" alt="No Image">
                    {% endif %}
                    <h6>{{ product.name }}</h6>
                </a>

                <p class="price">
                    <span class="old-price">‚Çπ{{ product.price }}</span>
                    {% if product.discount %}
                        <span class="discount">{{ product.discount }}% off</span><br>
                        <strong>‚Çπ{{ product.final_price|floatformat:2 }}</strong>
                    {% endif %}
                </p>

                {% if product.color_list %}
                <p class="colors">
                    {% for c in product.color_list %}
                        <span style="background-color:{{ c }}" title="{{ c }}"></span>
                    {% endfor %}
                </p>
                {% endif %}

                <div class="product-actions">
                    <a href="{% url 'add_to_cart' product.id %}" class="add-btn">Add to Cart</a>
                    <a href="{% url 'add_to_wishlist' product.id %}" class="wishlist-btn">‚ù§ Wishlist</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
            <p class="no-products">No similar products available.</p>
        {% endif %}
    </div>
</section>

<style>
#similar-products {
    background: #f8f9fa;
    padding: 50px 10px;
    font-family: 'Poppins', sans-serif;
}
#similar-products h2 {
    text-align: center;
    font-weight: 700;
    font-size: 28px;
    color: #222;
    margin-bottom: 40px;
}

/* Product Grid */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
}

/* Product Card */
.product-card {
    background: #fff;
    border-radius: 14px;
    border: 1px solid #eee;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    text-align: center;
    padding: 15px;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 18px rgba(0,0,0,0.1);
}

/* Image */
.product-card img {
    height: 180px;
    width: 100%;
    object-fit: contain;
    border-radius: 10px;
    margin-bottom: 10px;
    transition: transform 0.3s ease;
}
.product-card:hover img { transform: scale(1.05); }

/* Product Name */
.product-link {
    text-decoration: none;
    color: inherit;
}
.product-link:hover h6 { color: #007bff; }
.product-card h6 {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin: 6px 0;
}

/* Price */
.price { font-size: 14px; color: #555; }
.old-price { text-decoration: line-through; color: #999; margin-right: 6px; }
.discount { color: #e63946; font-weight: 600; }

/* Colors */
.colors span {
    display: inline-block;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    border: 1px solid #ccc;
    margin-right: 4px;
    transition: transform 0.2s ease;
}
.colors span:hover { transform: scale(1.2); border-color: #000; }

/* Buttons */
.product-actions {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
}
.add-btn, .wishlist-btn {
    border-radius: 25px;
    font-size: 13px;
    font-weight: 600;
    padding: 8px 14px;
    text-decoration: none;
    color: #fff;
    transition: all 0.3s ease;
}
.add-btn { background: linear-gradient(45deg, #007bff, #0056d6); }
.add-btn:hover { background: linear-gradient(45deg, #0056d6, #0040a0); transform: scale(1.05); }
.wishlist-btn { background: #e63946; }
.wishlist-btn:hover { background: #c62828; transform: scale(1.05); }

.no-products { text-align: center; color: #777; }
</style>






<!-- Optional Scroll Buttons -->
<script>
function scrollMobiles(value){
    const container = document.querySelector('.best-mobiles-row');
    container.scrollBy({ left:value, behavior:'smooth' });
}
</script>


<!-- Optional Scroll Buttons -->
<script>
function scrollLatest(value){
    const container = document.querySelector('.latest-launched-row');
    container.scrollBy({ left:value, behavior:'smooth' });
}
</script>


<!-- Optional Scroll Buttons for Latest Launched -->
<script>
function scrollLatest(value){
    const container = document.querySelector('.latest-launched-row');
    container.scrollBy({ left:value, behavior:'smooth' });
}
</script>




<!-- Scripts -->
<script>
window.onload = function(){
    // Categories scroll
    window.scrollCategories = function(value){
        const container = document.getElementById('categoriesRow');
        container.scrollBy({ left:value, behavior:'smooth' });
    }

    // Banner Slider
    let slideIndex = 0;
    const slides = document.getElementsByClassName("banner-slide");
    const dotsContainer = document.getElementById("bannerDots");

    function showSlides(){
        for(let i=0;i<slides.length;i++) slides[i].style.display="none";
        slideIndex++;
        if(slideIndex>slides.length) slideIndex=1;
        slides[slideIndex-1].style.display="block";

        // Dots
        if(dotsContainer){
            dotsContainer.innerHTML="";
            for(let i=0;i<slides.length;i++){
                let dot=document.createElement("span");
                if(i===slideIndex-1) dot.className="active";
                dot.onclick = function(){ slideIndex=i; showSlides(); };
                dotsContainer.appendChild(dot);
            }
        }
        setTimeout(showSlides,4000);
    }
    showSlides();
}
</script>


{% endblock %}  